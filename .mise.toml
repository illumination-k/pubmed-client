[tools]
pre-commit = "latest"
dprint = "latest"
"cargo:cargo-nextest" = "latest"

[tasks.fmt]
run = [
  "dprint fmt",
  "cargo fmt --all",
]

[tasks.lint]
run = [
  "dprint check",
  "cargo fmt --all -- --check",
  "cargo clippy --all-targets --all-features -- -D warnings",
]

[tasks.test]
run = [
  "cargo nextest run --all-features",
]

[tasks."test:watch"]
run = [
  "cargo watch -x 'nextest run --all-features'",
]

[tasks."test:verbose"]
run = [
  "cargo nextest run --all-features --nocapture",
]

[tasks.build]
run = ["cargo build"]

[tasks.check]
run = ["cargo check"]

[tasks.doc]
run = ["cargo doc --open"]
